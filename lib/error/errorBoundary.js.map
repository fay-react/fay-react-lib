{"version":3,"file":"errorBoundary.js","sourceRoot":"./","sources":["lib/error/errorBoundary.tsx"],"names":[],"mappings":"AAAA,OAAO,KAAK,KAAK,MAAM,OAAO,CAAC;AAW/B,MAAM,CAAC,OAAO,OAAO,aAAc,SAAQ,KAAK,CAAC,SAAuB;IAEtE,YAAY,KAAsB;QAChC,KAAK,CAAC,KAAK,CAAC,CAAC;QAUf,WAAM,GAAG,GAAG,EAAE;YACZ,MAAM,CAAC,OAAO,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC;QACxB,CAAC,CAAC;QAEF,WAAM,GAAG,GAAG,EAAE;YACZ,MAAM,CAAC,QAAQ,CAAC,IAAI,GAAG,GAAG,CAAC;QAC7B,CAAC,CAAC;QAfA,IAAI,CAAC,KAAK,GAAC;YACT,QAAQ,EAAE,KAAK;SAChB,CAAA;IACH,CAAC;IAED,iBAAiB;QACf,IAAI,CAAC,QAAQ,CAAC,EAAC,QAAQ,EAAE,IAAI,EAAC,CAAC,CAAC;IAClC,CAAC;IAUD,MAAM;QACJ,IAAG,IAAI,CAAC,KAAK,CAAC,QAAQ,EAAC;YACrB,MAAM,EAAC,IAAI,EAAC,GAAG,IAAI,CAAC,KAAK,CAAC;YAC1B,OAAO,gCAAK,IAAI,IAAG,iGAAsB,CAAM,CAAC;SACjD;QACD,OAAO,IAAI,CAAC,KAAK,CAAC,QAAQ,CAAC;IAC7B,CAAC;CACF","sourcesContent":["import * as React from 'react';\r\n\r\ninterface Props {\r\n\t\tinfo?: string | React.ElementType,\r\n\t\tchildren: React.ReactElement\r\n}\r\n\r\ninterface State {\r\n\t\thasError: boolean\r\n}\r\n\r\nexport default class ErrorBoundary extends React.Component<Props, State>{\r\n\r\n\t\tconstructor(props: Readonly<Props>){\r\n\t\t\t\tsuper(props);\r\n\t\t\t\tthis.state={\r\n\t\t\t\t\t\thasError: false,\r\n\t\t\t\t}\r\n\t\t}\r\n\r\n\t\tcomponentDidCatch(){\r\n\t\t\t\tthis.setState({hasError: true});\r\n\t\t}\r\n\r\n\t\tgoBack = () => {\r\n\t\t\t\twindow.history.go(-1);\r\n\t\t};\r\n\r\n\t\tgoHome = () => {\r\n\t\t\t\twindow.location.href = '/';\r\n\t\t};\r\n\r\n\t\trender(){\r\n\t\t\t\tif(this.state.hasError){\r\n\t\t\t\t\t\tconst {info} = this.props;\r\n\t\t\t\t\t\treturn <h1>{info ||<div>页面出现错误,加载失败</div>}</h1>;\r\n\t\t\t\t}\r\n\t\t\t\treturn this.props.children;\r\n\t\t}\r\n}\r\n"]}